<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>IO 事件分类概念 | CodeVerse | 技术宇宙</title><meta name="author" content="vilas"><meta name="copyright" content="vilas"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="IO 事件分类概念 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: io, events, networking, system-programming, poll, epoll  📑 目录 1. 概述 2. I&#x2F;O 事件类型 2.1 网络I&#x2F;O事件 2.2 文件I&#x2F;O事件 2.3 设备I&#x2F;O事件 2.4 定时器事件 2.5 信">
<meta property="og:type" content="article">
<meta property="og:title" content="IO 事件分类概念">
<meta property="og:url" content="https://vilaswang.github.io/posts/ecdf807f/index.html">
<meta property="og:site_name" content="CodeVerse | 技术宇宙">
<meta property="og:description" content="IO 事件分类概念 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: io, events, networking, system-programming, poll, epoll  📑 目录 1. 概述 2. I&#x2F;O 事件类型 2.1 网络I&#x2F;O事件 2.2 文件I&#x2F;O事件 2.3 设备I&#x2F;O事件 2.4 定时器事件 2.5 信">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://vilaswang.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2025-12-09T06:09:55.000Z">
<meta property="article:modified_time" content="2025-12-17T15:36:29.263Z">
<meta property="article:author" content="vilas">
<meta property="article:tag" content="技术文档">
<meta property="article:tag" content="指南">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://vilaswang.github.io/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "IO 事件分类概念",
  "url": "https://vilaswang.github.io/posts/ecdf807f/",
  "image": "https://vilaswang.github.io/img/butterfly-icon.png",
  "datePublished": "2025-12-09T06:09:55.000Z",
  "dateModified": "2025-12-17T15:36:29.263Z",
  "author": [
    {
      "@type": "Person",
      "name": "vilas",
      "url": "https://VilasWang.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://vilaswang.github.io/posts/ecdf807f/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'IO 事件分类概念',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><style> .top-announcement { background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%); color: #333; text-align: center; padding: 10px 0; font-size: 14px; font-weight: bold; width: 100%; border-bottom: 1px solid #eee; } </style><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="CodeVerse | 技术宇宙" type="application/atom+xml">
</head><body><div class="bg-animation" id="web_bg" style="background: [object Object];"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">155</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user-circle"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">CodeVerse | 技术宇宙</span></a><a class="nav-page-title" href="/"><span class="site-name">IO 事件分类概念</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user-circle"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">IO 事件分类概念</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-12-09T06:09:55.000Z" title="发表于 2025-12-09 14:09:55">2025-12-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-17T15:36:29.263Z" title="更新于 2025-12-17 23:36:29">2025-12-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%B3%BB%E7%BB%9F%E7%BA%A7%E7%BC%96%E7%A8%8B/">系统级编程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="IO-事件分类概念"><a href="#IO-事件分类概念" class="headerlink" title="IO 事件分类概念"></a>IO 事件分类概念</h1><blockquote>
<p><strong>文档创建时间</strong>: 2025-11-14<br><strong>最后更新</strong>: 2025-11-14<br><strong>标签</strong>: <code>io</code>, <code>events</code>, <code>networking</code>, <code>system-programming</code>, <code>poll</code>, <code>epoll</code></p>
</blockquote>
<h2 id="📑-目录"><a href="#📑-目录" class="headerlink" title="📑 目录"></a>📑 目录</h2><ul>
<li><a href="#1-%E6%A6%82%E8%BF%B0">1. 概述</a></li>
<li><a href="#2-io-%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B">2. I&#x2F;O 事件类型</a><ul>
<li><a href="#21-%E7%BD%91%E7%BB%9Cio%E4%BA%8B%E4%BB%B6">2.1 网络I&#x2F;O事件</a></li>
<li><a href="#22-%E6%96%87%E4%BB%B6io%E4%BA%8B%E4%BB%B6">2.2 文件I&#x2F;O事件</a></li>
<li><a href="#23-%E8%AE%BE%E5%A4%87io%E4%BA%8B%E4%BB%B6">2.3 设备I&#x2F;O事件</a></li>
<li><a href="#24-%E5%AE%9A%E6%97%B6%E5%99%A8%E4%BA%8B%E4%BB%B6">2.4 定时器事件</a></li>
<li><a href="#25-%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6">2.5 信号事件</a></li>
</ul>
</li>
<li><a href="#3-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%AD%E7%9A%84io%E4%BA%8B%E4%BB%B6">3. 网络编程中的I&#x2F;O事件</a></li>
<li><a href="#4-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">4. 事件处理最佳实践</a></li>
</ul>
<hr>
<h2 id="1-📖-概述"><a href="#1-📖-概述" class="headerlink" title="1. 📖 概述"></a>1. 📖 概述</h2><p>在计算机系统中，I&#x2F;O（输入&#x2F;输出）事件是系统通知程序某个 I&#x2F;O 操作状态变化的机制。正确理解和分类这些事件对于高效的网络编程至关重要。</p>
<hr>
<h2 id="2-🔧-I-O-事件类型"><a href="#2-🔧-I-O-事件类型" class="headerlink" title="2. 🔧 I&#x2F;O 事件类型"></a>2. 🔧 I&#x2F;O 事件类型</h2><h3 id="2-1-🌐-网络I-O事件"><a href="#2-1-🌐-网络I-O事件" class="headerlink" title="2.1 🌐 网络I&#x2F;O事件"></a>2.1 🌐 网络I&#x2F;O事件</h3><p>网络编程中最常见的 I&#x2F;O 事件类型：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[网络I/O事件] --&gt; B[可读事件]</span><br><span class="line">    A --&gt; C[可写事件]</span><br><span class="line">    A --&gt; D[错误事件]</span><br><span class="line">    A --&gt; E[挂起事件]</span><br><span class="line"></span><br><span class="line">    B --&gt; B1[数据到达]</span><br><span class="line">    B --&gt; B2[新连接请求]</span><br><span class="line">    B --&gt; B3[对端关闭]</span><br><span class="line"></span><br><span class="line">    C --&gt; C1[缓冲区有空间]</span><br><span class="line">    C --&gt; C2[连接建立完成]</span><br><span class="line"></span><br><span class="line">    D --&gt; D1[连接异常]</span><br><span class="line">    D --&gt; D2[协议错误]</span><br><span class="line"></span><br><span class="line">    E --&gt; E1[对端主动关闭]</span><br><span class="line">    E --&gt; E2[连接断开]</span><br></pre></td></tr></table></figure>

<h4 id="可读事件（Read-Event）"><a href="#可读事件（Read-Event）" class="headerlink" title="可读事件（Read Event）"></a>可读事件（Read Event）</h4><ul>
<li><strong>定义</strong>: 数据到达，可以读取</li>
<li><strong>场景</strong>:<ul>
<li>接收到网络数据</li>
<li>新的连接请求（监听套接字）</li>
<li>对端关闭连接（读取返回0）</li>
</ul>
</li>
</ul>
<h4 id="可写事件（Write-Event）"><a href="#可写事件（Write-Event）" class="headerlink" title="可写事件（Write Event）"></a>可写事件（Write Event）</h4><ul>
<li><strong>定义</strong>: 缓冲区有空间，可以写入数据</li>
<li><strong>场景</strong>:<ul>
<li>发送缓冲区有空间</li>
<li>非阻塞连接建立完成</li>
</ul>
</li>
</ul>
<h4 id="错误事件（Error-Event）"><a href="#错误事件（Error-Event）" class="headerlink" title="错误事件（Error Event）"></a>错误事件（Error Event）</h4><ul>
<li><strong>定义</strong>: 连接出现错误</li>
<li><strong>场景</strong>:<ul>
<li>网络连接异常</li>
<li>协议错误</li>
<li>资源不足</li>
</ul>
</li>
</ul>
<h4 id="挂起事件（Hangup-Event）"><a href="#挂起事件（Hangup-Event）" class="headerlink" title="挂起事件（Hangup Event）"></a>挂起事件（Hangup Event）</h4><ul>
<li><strong>定义</strong>: 连接被对端关闭</li>
<li><strong>场景</strong>:<ul>
<li>对端主动关闭连接</li>
<li>连接断开</li>
</ul>
</li>
</ul>
<h3 id="2-2-📁-文件I-O事件"><a href="#2-2-📁-文件I-O事件" class="headerlink" title="2.2 📁 文件I&#x2F;O事件"></a>2.2 📁 文件I&#x2F;O事件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">    A[文件I/O事件] --&gt; B[读写事件]</span><br><span class="line">    A --&gt; C[状态变化]</span><br><span class="line"></span><br><span class="line">    B --&gt; B1[文件可读]</span><br><span class="line">    B --&gt; B2[文件可写]</span><br><span class="line"></span><br><span class="line">    C --&gt; C1[文件修改]</span><br><span class="line">    C --&gt; C2[文件删除]</span><br><span class="line">    C --&gt; C3[权限变化]</span><br></pre></td></tr></table></figure>

<h4 id="读写事件"><a href="#读写事件" class="headerlink" title="读写事件"></a>读写事件</h4><ul>
<li><strong>文件可读</strong>: 文件描述符可以进行读操作</li>
<li><strong>文件可写</strong>: 文件描述符可以进行写操作</li>
</ul>
<h4 id="状态变化事件"><a href="#状态变化事件" class="headerlink" title="状态变化事件"></a>状态变化事件</h4><ul>
<li><strong>文件修改</strong>: 文件内容被修改</li>
<li><strong>文件删除</strong>: 文件被删除</li>
<li><strong>权限变化</strong>: 文件权限或所有者改变</li>
</ul>
<h3 id="2-3-🔌-设备I-O事件"><a href="#2-3-🔌-设备I-O事件" class="headerlink" title="2.3 🔌 设备I&#x2F;O事件"></a>2.3 🔌 设备I&#x2F;O事件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[设备I/O事件] --&gt; B[终端事件]</span><br><span class="line">    A --&gt; C[串口事件]</span><br><span class="line">    A --&gt; D[硬件设备事件]</span><br><span class="line"></span><br><span class="line">    B --&gt; B1[键盘输入]</span><br><span class="line">    B --&gt; B2[鼠标事件]</span><br><span class="line"></span><br><span class="line">    C --&gt; C1[串口数据到达]</span><br><span class="line">    C --&gt; C2[串口可发送]</span><br><span class="line"></span><br><span class="line">    D --&gt; D1[USB设备插拔]</span><br><span class="line">    D --&gt; D2[硬件状态变化]</span><br></pre></td></tr></table></figure>

<h3 id="2-4-⏰-定时器事件"><a href="#2-4-⏰-定时器事件" class="headerlink" title="2.4 ⏰ 定时器事件"></a>2.4 ⏰ 定时器事件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">    A[定时器事件] --&gt; B[超时事件]</span><br><span class="line"></span><br><span class="line">    B --&gt; B1[单次定时器]</span><br><span class="line">    B --&gt; B2[周期性定时器]</span><br><span class="line">    B --&gt; B3[相对定时器]</span><br><span class="line">    B --&gt; B4[绝对定时器]</span><br></pre></td></tr></table></figure>

<h3 id="2-5-📢-信号事件"><a href="#2-5-📢-信号事件" class="headerlink" title="2.5 📢 信号事件"></a>2.5 📢 信号事件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[信号事件] --&gt; B[系统信号]</span><br><span class="line">    A --&gt; C[用户自定义信号]</span><br><span class="line"></span><br><span class="line">    B --&gt; B1[SIGTERM]</span><br><span class="line">    B --&gt; B2[SIGINT]</span><br><span class="line">    B --&gt; B3[SIGKILL]</span><br><span class="line">    B --&gt; B4[SIGUSR1]</span><br><span class="line">    B --&gt; B5[SIGUSR2]</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="3-🌐-网络编程中的I-O事件"><a href="#3-🌐-网络编程中的I-O事件" class="headerlink" title="3. 🌐 网络编程中的I&#x2F;O事件"></a>3. 🌐 网络编程中的I&#x2F;O事件</h2><h3 id="3-1-📋-事件类型详解"><a href="#3-1-📋-事件类型详解" class="headerlink" title="3.1 📋 事件类型详解"></a>3.1 📋 事件类型详解</h3><h4 id="1-可读事件（POLLIN-POLLPRI）"><a href="#1-可读事件（POLLIN-POLLPRI）" class="headerlink" title="1. 可读事件（POLLIN&#x2F;POLLPRI）"></a>1. 可读事件（POLLIN&#x2F;POLLPRI）</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 poll 监听可读事件</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">pollfd</span> <span class="title">fds</span>[1];</span></span><br><span class="line">fds[<span class="number">0</span>].fd = sockfd;</span><br><span class="line">fds[<span class="number">0</span>].events = POLLIN;  <span class="comment">// 监听可读事件</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> ret = poll(fds, <span class="number">1</span>, timeout);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (fds[<span class="number">0</span>].revents &amp; POLLIN) &#123;</span><br><span class="line">    <span class="comment">// 处理可读事件</span></span><br><span class="line">    handle_read_event(sockfd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>表示的情况</strong>:</p>
<ul>
<li>✅ 有新数据到达，可以读取</li>
<li>✅ 新的连接请求到达（对于监听套接字）</li>
<li>✅ 对端关闭连接（读取时会返回0）</li>
</ul>
<h4 id="2-可写事件（POLLOUT）"><a href="#2-可写事件（POLLOUT）" class="headerlink" title="2. 可写事件（POLLOUT）"></a>2. 可写事件（POLLOUT）</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听可写事件</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">pollfd</span> <span class="title">fds</span>[1];</span></span><br><span class="line">fds[<span class="number">0</span>].fd = sockfd;</span><br><span class="line">fds[<span class="number">0</span>].events = POLLOUT;  <span class="comment">// 监听可写事件</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> ret = poll(fds, <span class="number">1</span>, timeout);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (fds[<span class="number">0</span>].revents &amp; POLLOUT) &#123;</span><br><span class="line">    <span class="comment">// 处理可写事件</span></span><br><span class="line">    handle_write_event(sockfd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>表示的情况</strong>:</p>
<ul>
<li>✅ 发送缓冲区有空间</li>
<li>✅ 连接建立完成（对于非阻塞连接）</li>
</ul>
<h4 id="3-错误事件（POLLERR）"><a href="#3-错误事件（POLLERR）" class="headerlink" title="3. 错误事件（POLLERR）"></a>3. 错误事件（POLLERR）</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检查错误事件</span></span><br><span class="line"><span class="keyword">if</span> (fds[<span class="number">0</span>].revents &amp; POLLERR) &#123;</span><br><span class="line">    <span class="comment">// 处理错误事件</span></span><br><span class="line">    handle_error_event(sockfd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>表示的情况</strong>:</p>
<ul>
<li>❌ 连接异常</li>
<li>❌ 协议错误</li>
<li>❌ 网络不可达</li>
</ul>
<h4 id="4-挂起事件（POLLHUP）"><a href="#4-挂起事件（POLLHUP）" class="headerlink" title="4. 挂起事件（POLLHUP）"></a>4. 挂起事件（POLLHUP）</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检查挂起事件</span></span><br><span class="line"><span class="keyword">if</span> (fds[<span class="number">0</span>].revents &amp; POLLHUP) &#123;</span><br><span class="line">    <span class="comment">// 处理连接关闭</span></span><br><span class="line">    handle_hangup_event(sockfd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>表示的情况</strong>:</p>
<ul>
<li>⚠️ 对端主动关闭连接</li>
<li>⚠️ 连接断开</li>
</ul>
<h4 id="5-无效事件（POLLNVAL）"><a href="#5-无效事件（POLLNVAL）" class="headerlink" title="5. 无效事件（POLLNVAL）"></a>5. 无效事件（POLLNVAL）</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检查无效事件</span></span><br><span class="line"><span class="keyword">if</span> (fds[<span class="number">0</span>].revents &amp; POLLNVAL) &#123;</span><br><span class="line">    <span class="comment">// 处理无效文件描述符</span></span><br><span class="line">    handle_invalid_event(sockfd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>表示的情况</strong>:</p>
<ul>
<li>❌ 文件描述符未打开或已关闭</li>
</ul>
<h3 id="3-2-🔄-事件处理流程"><a href="#3-2-🔄-事件处理流程" class="headerlink" title="3.2 🔄 事件处理流程"></a>3.2 🔄 事件处理流程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant App as 应用程序</span><br><span class="line">    participant Kernel as 内核</span><br><span class="line">    participant Network as 网络</span><br><span class="line"></span><br><span class="line">    App-&gt;&gt;Kernel: poll/epoll_wait</span><br><span class="line">    Kernel-&gt;&gt;Network: 监听事件</span><br><span class="line">    Network-&gt;&gt;Kernel: 事件发生</span><br><span class="line">    Kernel-&gt;&gt;App: 返回就绪事件</span><br><span class="line">    App-&gt;&gt;App: 处理事件</span><br><span class="line">    App-&gt;&gt;Kernel: 继续监听</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="4-💡-事件处理最佳实践"><a href="#4-💡-事件处理最佳实践" class="headerlink" title="4. 💡 事件处理最佳实践"></a>4. 💡 事件处理最佳实践</h2><h3 id="4-1-🎯-事件处理策略"><a href="#4-1-🎯-事件处理策略" class="headerlink" title="4.1 🎯 事件处理策略"></a>4.1 🎯 事件处理策略</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 事件处理的最佳实践示例</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">handle_events</span><span class="params">(<span class="keyword">struct</span> pollfd *fds, <span class="type">int</span> nfds)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nfds; i++) &#123;</span><br><span class="line">        <span class="type">int</span> fd = fds[i].fd;</span><br><span class="line">        <span class="type">short</span> revents = fds[i].revents;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (revents == <span class="number">0</span>) <span class="keyword">continue</span>;  <span class="comment">// 无事件</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 优先处理错误和挂起事件</span></span><br><span class="line">        <span class="keyword">if</span> (revents &amp; POLLNVAL) &#123;</span><br><span class="line">            close(fd);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (revents &amp; POLLERR) &#123;</span><br><span class="line">            handle_socket_error(fd);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (revents &amp; POLLHUP) &#123;</span><br><span class="line">            handle_socket_hangup(fd);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 处理可读事件</span></span><br><span class="line">        <span class="keyword">if</span> (revents &amp; POLLIN) &#123;</span><br><span class="line">            handle_read_event(fd);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 处理可写事件</span></span><br><span class="line">        <span class="keyword">if</span> (revents &amp; POLLOUT) &#123;</span><br><span class="line">            handle_write_event(fd);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 处理紧急数据</span></span><br><span class="line">        <span class="keyword">if</span> (revents &amp; POLLPRI) &#123;</span><br><span class="line">            handle_urgent_data(fd);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-⚠️-注意事项"><a href="#4-2-⚠️-注意事项" class="headerlink" title="4.2 ⚠️ 注意事项"></a>4.2 ⚠️ 注意事项</h3><ol>
<li><strong>事件优先级</strong>: 错误事件 &gt; 挂起事件 &gt; 读写事件</li>
<li><strong>边缘触发</strong>: 使用 ET 模式时要确保处理完所有数据</li>
<li><strong>资源管理</strong>: 及时关闭无效的文件描述符</li>
<li><strong>性能优化</strong>: 避免不必要的事件监听</li>
</ol>
<h3 id="4-3-🔧-常见问题解决"><a href="#4-3-🔧-常见问题解决" class="headerlink" title="4.3 🔧 常见问题解决"></a>4.3 🔧 常见问题解决</h3><table>
<thead>
<tr>
<th>问题</th>
<th>原因</th>
<th>解决方案</th>
</tr>
</thead>
<tbody><tr>
<td><strong>CPU占用过高</strong></td>
<td>忙等待或事件处理不当</td>
<td>使用阻塞I&#x2F;O或优化事件循环</td>
</tr>
<tr>
<td><strong>事件丢失</strong></td>
<td>边缘触发模式处理不完整</td>
<td>使用水平触发或确保数据读完</td>
</tr>
<tr>
<td><strong>连接泄漏</strong></td>
<td>错误事件处理不当</td>
<td>及时清理和关闭连接</td>
</tr>
</tbody></table>
<hr>
<h2 id="📊-总结"><a href="#📊-总结" class="headerlink" title="📊 总结"></a>📊 总结</h2><h3 id="✅-核心要点"><a href="#✅-核心要点" class="headerlink" title="✅ 核心要点"></a>✅ 核心要点</h3><ul>
<li><strong>I&#x2F;O事件分类</strong>: 网络、文件、设备、定时器、信号</li>
<li><strong>网络事件处理</strong>: 可读、可写、错误、挂起、无效</li>
<li><strong>最佳实践</strong>: 事件优先级、资源管理、性能优化</li>
</ul>
<h3 id="🎯-实际应用"><a href="#🎯-实际应用" class="headerlink" title="🎯 实际应用"></a>🎯 实际应用</h3><ul>
<li><strong>Web服务器</strong>: 处理HTTP请求和响应</li>
<li><strong>代理服务器</strong>: 转发客户端和服务器数据</li>
<li><strong>聊天应用</strong>: 实时消息传输</li>
<li><strong>文件监控</strong>: 监控文件系统变化</li>
</ul>
<h3 id="📚-扩展学习"><a href="#📚-扩展学习" class="headerlink" title="📚 扩展学习"></a>📚 扩展学习</h3><ul>
<li><a target="_blank" rel="noopener" href="https://man7.org/linux/man-pages/man2/poll.2.html">Linux I&#x2F;O 多路复用</a></li>
<li><a target="_blank" rel="noopener" href="https://man7.org/linux/man-pages/man7/epoll.7.html">epoll 编程指南</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ideawu/immerse">高性能网络编程</a></li>
</ul>
<hr>
<blockquote>
<p><strong>💡 提示</strong>: 在实际开发中，建议使用成熟的网络库（如 libevent、libuv）来处理复杂的事件管理，这些库已经处理了大部分边界情况和优化。</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://VilasWang.github.io">vilas</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://vilaswang.github.io/posts/ecdf807f/">https://vilaswang.github.io/posts/ecdf807f/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://VilasWang.github.io" target="_blank">CodeVerse | 技术宇宙</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/">技术文档</a><a class="post-meta__tags" href="/tags/%E6%8C%87%E5%8D%97/">指南</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/58c0a1f/" title="Drogon Windows 构建指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Drogon Windows 构建指南</div></div><div class="info-2"><div class="info-item-1">Drogon Windows 构建指南 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: drogon, cpp, windows, source-build, cmake, conan  📑 目录 1. 概述 2. 环境准备 3. 源码下载 4. 依赖安装 5. 编译安装 6. 环境配置 7. 创建新项目 8. 常见问题   1. 📖 概述Drogon 是一个现代化的 C++ Web 框架。本指南介绍如何在 Windows 系统上从源码编译安装 Drogon。 🎯 安装目标 ✅ 从源码编译 Drogon 框架 ✅ 配置开发环境 ✅ 创建第一个 Drogon 项目 ✅ 验证安装成功   2. 🔧 环境准备2.1 必需工具 Visual Studio 2019+ - C++ 编译器 Git - 源码管理 CMake 3.15+ - 构建系统 Conan - C++ 包管理器  2.2 安装 Conan12345# Drogon Windows 构建指南pip install conan# Drogon Windows 构建指南choco insta...</div></div></div></a><a class="pagination-related" href="/posts/33eb4929/" title="FileZilla 端口转发指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">FileZilla 端口转发指南</div></div><div class="info-2"><div class="info-item-1">FileZilla 端口转发指南 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: filezilla, ftp, portforwarding, 花生壳, 内网穿透, 远程访问  📑 目录 1. 概述 2. 配置流程图 3. FileZilla Server 配置 4. 花生壳内网穿透 5. FTP 被动模式配置 6. 防火墙设置 7. 连接测试 8. 故障排除   1. 📖 概述本指南详细介绍如何使用 FileZilla Server 搭建 FTP 服务器，并通过花生壳实现外网访问内网文件的完整解决方案。 🎯 配置目标 ✅ 搭建内网 FTP 服务器 ✅ 配置花生壳内网穿透 ✅ 实现外网安全访问 ✅ 支持文件上传下载  🏗️ 系统架构图1234567891011121314flowchart TD    A[外网客户端] --&gt; B[花生壳外网域名]    B --&gt; C[花生壳服务器]    C --&gt; D[内网服务器]    D --&gt; E[FileZilla Server]    E --&gt; F[共享文件夹]...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/55a960b4/" title="VSCode Qt MSVC 配置指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-09</div><div class="info-item-2">VSCode Qt MSVC 配置指南</div></div><div class="info-2"><div class="info-item-1">VSCode Qt MSVC 配置指南 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: vscode, qt, msvc, cmake, windows, development, cpp  📑 目录 1. 概述 2. 环境准备 3. VS Code 配置 3.1 C&#x2F;C++ 扩展配置 3.2 调试器配置 3.3 构建任务配置 3.4 Qt 可视化调试   4. CMake 配置 5. 环境验证 6. 常见问题解决 7. 完整工作流程   1. 📖 概述本指南详细介绍如何在 Windows 系统上配置 VS Code 进行 Qt C++ 开发，使用 MSVC 编译器和 CMake 构建系统。 🎯 配置目标 ✅ 使用 MSVC 编译器进行 Qt 开发 ✅ VS Code 完整的 IntelliSense 支持 ✅ 集成的调试和构建功能 ✅ 跨平台 CMake 构建系统  🏗️ 系统架构12345678910111213141516graph TB    A[VS Code IDE] --&gt; B[C/C++ Extension]  ...</div></div></div></a><a class="pagination-related" href="/posts/eed6fb04/" title="文件管理 API 规范"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-09</div><div class="info-item-2">文件管理 API 规范</div></div><div class="info-2"><div class="info-item-1">文件管理 API 规范 文档创建时间: 2025-11-14最后更新: 2025-11-14版本: v1.0标签: api, rest, file-management, authentication, swagger  📑 目录 1. 基础信息 2. 认证与授权 3. 文件管理 4. 文件支持 5. 错误处理 6. 安全机制 7. 速率限制 8. OpenAPI 规范   1. 📋 基础信息   项目 说明    Base URL /api/v1   协议 HTTPS   数据格式 JSON   认证方式 JWT Bearer Token   API 版本 v1.0   🔐 认证请求格式1234GET /api/v1/files/list HTTP/1.1Host: your-domain.comAuthorization: Bearer &lt;jwt_token&gt;Content-Type: application/json   2. 🔐 认证与授权2.1 👤 用户注册1234567891011121314sequenceDiagram    particip...</div></div></div></a><a class="pagination-related" href="/posts/58c0a1f/" title="Drogon Windows 构建指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-09</div><div class="info-item-2">Drogon Windows 构建指南</div></div><div class="info-2"><div class="info-item-1">Drogon Windows 构建指南 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: drogon, cpp, windows, source-build, cmake, conan  📑 目录 1. 概述 2. 环境准备 3. 源码下载 4. 依赖安装 5. 编译安装 6. 环境配置 7. 创建新项目 8. 常见问题   1. 📖 概述Drogon 是一个现代化的 C++ Web 框架。本指南介绍如何在 Windows 系统上从源码编译安装 Drogon。 🎯 安装目标 ✅ 从源码编译 Drogon 框架 ✅ 配置开发环境 ✅ 创建第一个 Drogon 项目 ✅ 验证安装成功   2. 🔧 环境准备2.1 必需工具 Visual Studio 2019+ - C++ 编译器 Git - 源码管理 CMake 3.15+ - 构建系统 Conan - C++ 包管理器  2.2 安装 Conan12345# Drogon Windows 构建指南pip install conan# Drogon Windows 构建指南choco insta...</div></div></div></a><a class="pagination-related" href="/posts/b71a62b0/" title="PostgreSQL C++ Windows 安装指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-09</div><div class="info-item-2">PostgreSQL C++ Windows 安装指南</div></div><div class="info-2"><div class="info-item-1">PostgreSQL C++ Windows 安装指南 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: postgresql, c, windows, development, database, libpq  📑 目录 1. 概述 2. 系统组件 3. PostgreSQL 安装 3.1 下载安装包 3.2 运行安装程序   4. C 开发环境配置 4.1 包含头文件配置 4.2 链接库配置 4.3 运行时依赖配置   5. 验证与测试 6. 常见问题解决 7. 高级配置   1. 📖 概述本指南详细说明如何在 Windows 系统上配置 PostgreSQL 的 C 语言开发环境，包括服务器安装、客户端库配置和开发环境设置。 🎯 配置目标 ✅ 安装 PostgreSQL 数据库服务器 ✅ 配置 C 语言客户端库 (libpq) ✅ 设置开发环境和编译选项 ✅ 创建可运行的 C 数据库应用程序  🏗️ 系统架构12345678910111213graph TD    A[C Application] --&gt; B[libpq Client...</div></div></div></a><a class="pagination-related" href="/posts/ab2eaca1/" title="认证系统架构"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-09</div><div class="info-item-2">认证系统架构</div></div><div class="info-2"><div class="info-item-1">认证系统架构 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: authentication, authorization, jwt, oauth, security, api  📑 目录 1. 认证方式概述 2. 本地认证流程 2.1 注册流程 2.2 登录流程 2.3 Token 验证流程   3. Google OAuth 认证流程 3.1 配置 3.2 认证流程 3.3 会话管理   4. 安全特性 4.1 速率限制 4.2 CORS 配置 4.3 错误处理   5. 中间件链 6. 环境配置   1. 认证方式概述系统支持两种主要的认证方式：  🔑 本地用户名密码认证（JWT Token） 🌐 Google OAuth 2.0 认证  12345678graph LR    A[用户] --&gt; B[认证选择]    B --&gt; C[本地认证]    B --&gt; D[OAuth认证]    C --&gt; E[JWT Token]    D --&gt; F[Google授权]    E --&gt; G[访问API] ...</div></div></div></a><a class="pagination-related" href="/posts/445c44cb/" title="Graphviz 流程图指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-09</div><div class="info-item-2">Graphviz 流程图指南</div></div><div class="info-2"><div class="info-item-1">Graphviz 流程图指南 文档创建时间: 2025-11-14最后更新: 2025-11-14标签: graphviz, flowchart, diagram, visualization, documentation  📑 目录 1. 概述 2. 环境准备 3. 基本使用 4. 输出格式 5. 常见用例 6. 高级配置   1. 📖 概述Graphviz 是一个开源的图形可视化软件，特别适合生成各种流程图、架构图和关系图。 🎯 主要用途 ✅ 流程图生成 ✅ 系统架构图 ✅ 类关系图 ✅ 依赖关系图 ✅ 状态机图   2. 🔧 环境准备2.1 安装依赖12345678# Graphviz 流程图指南pip install graphviz# Graphviz 流程图指南conda install python-graphviz# Graphviz 流程图指南sudo apt-get install graphviz  2.2 验证安装123456import graphviz# Graphviz 流程图指南dot = graphviz.Digraph(comment=...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">vilas</div><div class="author-info-description">CodeVerse | 技术宇宙 - 专注于 C++、Qt、系统架构与性能优化的技术知识库。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">155</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><a id="card-info-btn" href="/about/"><i class="fa fa-paper-plane"></i><span>关于</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/VilasWang" target="_blank" title="fab fa-github"><i class="Github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">🚀 欢迎来到 CodeVerse！这里专注于深度技术解析与实战经验分享。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#IO-%E4%BA%8B%E4%BB%B6%E5%88%86%E7%B1%BB%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">IO 事件分类概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%91-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.</span> <span class="toc-text">📑 目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%F0%9F%93%96-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.</span> <span class="toc-text">1. 📖 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%F0%9F%94%A7-I-O-%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.</span> <span class="toc-text">2. 🔧 I&#x2F;O 事件类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%F0%9F%8C%90-%E7%BD%91%E7%BB%9CI-O%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 🌐 网络I&#x2F;O事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E8%AF%BB%E4%BA%8B%E4%BB%B6%EF%BC%88Read-Event%EF%BC%89"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">可读事件（Read Event）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E5%86%99%E4%BA%8B%E4%BB%B6%EF%BC%88Write-Event%EF%BC%89"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">可写事件（Write Event）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E4%BA%8B%E4%BB%B6%EF%BC%88Error-Event%EF%BC%89"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">错误事件（Error Event）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%82%E8%B5%B7%E4%BA%8B%E4%BB%B6%EF%BC%88Hangup-Event%EF%BC%89"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">挂起事件（Hangup Event）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%F0%9F%93%81-%E6%96%87%E4%BB%B6I-O%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 📁 文件I&#x2F;O事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">读写事件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E5%8F%98%E5%8C%96%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">状态变化事件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%F0%9F%94%8C-%E8%AE%BE%E5%A4%87I-O%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.3 🔌 设备I&#x2F;O事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E2%8F%B0-%E5%AE%9A%E6%97%B6%E5%99%A8%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.4.</span> <span class="toc-text">2.4 ⏰ 定时器事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%F0%9F%93%A2-%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.5.</span> <span class="toc-text">2.5 📢 信号事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%F0%9F%8C%90-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%AD%E7%9A%84I-O%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">3. 🌐 网络编程中的I&#x2F;O事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%F0%9F%93%8B-%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.1 📋 事件类型详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8F%AF%E8%AF%BB%E4%BA%8B%E4%BB%B6%EF%BC%88POLLIN-POLLPRI%EF%BC%89"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">1. 可读事件（POLLIN&#x2F;POLLPRI）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%AF%E5%86%99%E4%BA%8B%E4%BB%B6%EF%BC%88POLLOUT%EF%BC%89"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">2. 可写事件（POLLOUT）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%94%99%E8%AF%AF%E4%BA%8B%E4%BB%B6%EF%BC%88POLLERR%EF%BC%89"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">3. 错误事件（POLLERR）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%8C%82%E8%B5%B7%E4%BA%8B%E4%BB%B6%EF%BC%88POLLHUP%EF%BC%89"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">4. 挂起事件（POLLHUP）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%97%A0%E6%95%88%E4%BA%8B%E4%BB%B6%EF%BC%88POLLNVAL%EF%BC%89"><span class="toc-number">1.4.1.5.</span> <span class="toc-text">5. 无效事件（POLLNVAL）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%F0%9F%94%84-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.2 🔄 事件处理流程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%F0%9F%92%A1-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.5.</span> <span class="toc-text">4. 💡 事件处理最佳实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%F0%9F%8E%AF-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1 🎯 事件处理策略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E2%9A%A0%EF%B8%8F-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.2 ⚠️ 注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%F0%9F%94%A7-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3 🔧 常见问题解决</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8A-%E6%80%BB%E7%BB%93"><span class="toc-number">1.6.</span> <span class="toc-text">📊 总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85-%E6%A0%B8%E5%BF%83%E8%A6%81%E7%82%B9"><span class="toc-number">1.6.1.</span> <span class="toc-text">✅ 核心要点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%AF-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8"><span class="toc-number">1.6.2.</span> <span class="toc-text">🎯 实际应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%9A-%E6%89%A9%E5%B1%95%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.6.3.</span> <span class="toc-text">📚 扩展学习</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/mcp-github-config/" title="Gemini CLI 和 Claude Code 中配置 GitHub MCP 服务器详解">Gemini CLI 和 Claude Code 中配置 GitHub MCP 服务器详解</a><time datetime="2025-12-18T01:09:23.000Z" title="发表于 2025-12-18 09:09:23">2025-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/gemini-cli-proxy/" title="Gemini CLI 在国内网络环境下的完整配置指南">Gemini CLI 在国内网络环境下的完整配置指南</a><time datetime="2025-12-18T01:09:23.000Z" title="发表于 2025-12-18 09:09:23">2025-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/windows-github-mcp/" title="Windows 环境下配置 GitHub MCP 服务器完整指南">Windows 环境下配置 GitHub MCP 服务器完整指南</a><time datetime="2025-12-18T01:09:23.000Z" title="发表于 2025-12-18 09:09:23">2025-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/56a10ecb/" title="Antigravity 登录认证完整解决方案（非TUN方法）">Antigravity 登录认证完整解决方案（非TUN方法）</a><time datetime="2025-12-16T22:30:00.000Z" title="发表于 2025-12-17 06:30:00">2025-12-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/55a960b4/" title="VSCode Qt MSVC 配置指南">VSCode Qt MSVC 配置指南</a><time datetime="2025-12-09T06:09:56.000Z" title="发表于 2025-12-09 14:09:56">2025-12-09</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By vilas</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'VilasWang/VilasWang.github.io',
      'data-repo-id': 'R_kgDOQkzqvg',
      'data-category-id': 'DIC_kwDOQkzqvs4Cz99h',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script> document.addEventListener('DOMContentLoaded', function() { var announcement = document.createElement('div'); announcement.className = 'top-announcement'; announcement.innerHTML = '🚀 欢迎来到 CodeVerse 技术宇宙！'; document.body.insertBefore(announcement, document.body.firstChild); }); </script><script id="canvas_nest" defer="defer" color="102,204,255" opacity="0.6" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:description\"]","link[rel=\"canonical\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      false
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>