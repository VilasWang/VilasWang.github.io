<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL Windows 安装指南 | CodeVerse | 技术宇宙</title><meta name="author" content="vilas"><meta name="copyright" content="vilas"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="详细的技术安装与配置指南，提供从零开始的完整部署流程，包含环境检查、依赖安装、参数配置、测试验证等关键步骤。">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL Windows 安装指南">
<meta property="og:url" content="https://vilaswang.github.io/posts/e2f925a8/index.html">
<meta property="og:site_name" content="CodeVerse | 技术宇宙">
<meta property="og:description" content="详细的技术安装与配置指南，提供从零开始的完整部署流程，包含环境检查、依赖安装、参数配置、测试验证等关键步骤。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://vilaswang.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2025-12-04T05:13:24.000Z">
<meta property="article:modified_time" content="2025-12-17T15:36:29.278Z">
<meta property="article:author" content="vilas">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="Windows">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="服务配置">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://vilaswang.github.io/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "MySQL Windows 安装指南",
  "url": "https://vilaswang.github.io/posts/e2f925a8/",
  "image": "https://vilaswang.github.io/img/butterfly-icon.png",
  "datePublished": "2025-12-04T05:13:24.000Z",
  "dateModified": "2025-12-17T15:36:29.278Z",
  "author": [
    {
      "@type": "Person",
      "name": "vilas",
      "url": "https://VilasWang.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://vilaswang.github.io/posts/e2f925a8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL Windows 安装指南',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><style> .top-announcement { background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%); color: #333; text-align: center; padding: 10px 0; font-size: 14px; font-weight: bold; width: 100%; border-bottom: 1px solid #eee; } </style><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="CodeVerse | 技术宇宙" type="application/atom+xml">
</head><body><div class="bg-animation" id="web_bg" style="background: [object Object];"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">155</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user-circle"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">CodeVerse | 技术宇宙</span></a><a class="nav-page-title" href="/"><span class="site-name">MySQL Windows 安装指南</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user-circle"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">MySQL Windows 安装指南</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-12-04T05:13:24.000Z" title="发表于 2025-12-04 13:13:24">2025-12-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-17T15:36:29.278Z" title="更新于 2025-12-17 23:36:29">2025-12-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%90%8E%E7%AB%AF%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/">后端服务架构</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%90%8E%E7%AB%AF%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E7%BC%93%E5%AD%98/">数据库与缓存</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="MySQL-Windows-安装指南"><a href="#MySQL-Windows-安装指南" class="headerlink" title="MySQL Windows 安装指南"></a>MySQL Windows 安装指南</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="#%E6%A6%82%E8%BF%B0">概述</a></li>
<li><a href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%E4%B8%8B%E8%BD%BD%E4%B8%8E%E8%A7%A3%E5%8E%8B">第一步：下载与解压</a></li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E9%85%8D%E7%BD%AE-myini-%E6%96%87%E4%BB%B6">第二步：配置 my.ini 文件</a></li>
<li><a href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%8E%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1">第三步：初始化与安装服务</a></li>
<li><a href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E4%B8%8E%E7%99%BB%E5%BD%95">第四步：服务管理与登录</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86">用户与权限管理</a></li>
<li><a href="#%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D">备份与恢复</a></li>
<li><a href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E4%B8%8E%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4">常见问题与故障排除</a></li>
</ul>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>本指南详细介绍如何在 Windows 操作系统上，通过官方的 ZIP 压缩包手动安装、配置 MySQL，并将其注册为 Windows 服务。这种方式让你可以完全控制 MySQL 的安装位置和配置。</p>
<h2 id="第一步：下载与解压"><a href="#第一步：下载与解压" class="headerlink" title="第一步：下载与解压"></a>第一步：下载与解压</h2><ol>
<li><p><strong>下载 MySQL Community Server</strong>:<br>访问官方下载页面：<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a><br>选择 “Windows (x86, 64-bit), ZIP Archive” 版本进行下载。</p>
</li>
<li><p><strong>解压文件</strong>:<br>将下载的 ZIP 文件解压到一个你选择的稳定路径，例如 <code>C:\mysql</code>。<strong>路径中最好不要包含中文或空格</strong>。</p>
<p>解压后的目录结构大致如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Your-MySQL-Path&gt;\</span><br><span class="line">├── bin\          # 可执行文件 (mysqld, mysql, mysqldump 等)</span><br><span class="line">├── include\</span><br><span class="line">├── lib\</span><br><span class="line">└── share\</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="第二步：配置-my-ini-文件"><a href="#第二步：配置-my-ini-文件" class="headerlink" title="第二步：配置 my.ini 文件"></a>第二步：配置 my.ini 文件</h2><ol>
<li><p>在你的 MySQL 根目录下（例如 <code>C:\mysql</code>）创建一个名为 <code>my.ini</code> 的文本文件。这是 MySQL 的核心配置文件。</p>
</li>
<li><p><strong>创建 <code>data</code> 目录</strong>: 在根目录下手动创建一个名为 <code>data</code> 的空文件夹，用于存放数据库文件。</p>
</li>
<li><p><strong>编辑 <code>my.ini</code></strong>: 将以下内容复制到 <code>my.ini</code> 文件中，并<strong>务必将 <code>&lt;Your-MySQL-Path&gt;</code> 替换为你自己的实际路径</strong>（注意路径中的反斜杠 <code>\</code> 需要转义为 <code>\\</code>）。</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment"># 设置 3306 端口</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 mysql 的安装目录</span></span><br><span class="line"><span class="attr">basedir</span>=&lt;Your-MySQL-Path&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 mysql 数据库的数据的存放目录</span></span><br><span class="line"><span class="attr">datadir</span>=&lt;Your-MySQL-Path&gt;\\data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许最大连接数</span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为 utf8mb4</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8mb4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认存储引擎</span></span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br><span class="line"></span><br><span class="line"><span class="comment"># [MySQL 8.0+ 新特性] 默认认证方式</span></span><br><span class="line"><span class="attr">default_authentication_plugin</span>=mysql_native_password</span><br><span class="line"></span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="comment"># 设置 mysql 客户端默认字符集</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8mb4</span><br><span class="line"></span><br><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="comment"># 设置 mysql 客户端连接时的默认端口</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8mb4</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="第三步：初始化与安装服务"><a href="#第三步：初始化与安装服务" class="headerlink" title="第三步：初始化与安装服务"></a>第三步：初始化与安装服务</h2><p><strong>以管理员身份</strong>打开命令提示符 (CMD) 或 PowerShell，并进入 <code>bin</code> 目录。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> &lt;Your-MySQL-<span class="built_in">Path</span>&gt;\bin</span><br></pre></td></tr></table></figure>

<ol>
<li><p><strong>初始化数据库</strong>:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize --console</span><br></pre></td></tr></table></figure>
<p><strong>重要</strong>: 此命令会创建 <code>data</code> 目录并生成一个临时的 root 用户密码。请在输出的日志中找到并<strong>立即复制保存</strong>这行信息：<br><code>A temporary password is generated for root@localhost: &lt;随机密码&gt;</code></p>
</li>
<li><p><strong>安装 MySQL 服务</strong>:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 安装服务，服务名为 MySQL</span><br><span class="line">mysqld --install MySQL</span><br><span class="line"></span><br><span class="line"># 如果 my.ini 不在默认位置，可以使用 --defaults-file 指定</span><br><span class="line"># mysqld --install MySQL --defaults-file=\&quot;&lt;Your-MySQL-<span class="built_in">Path</span>&gt;\\my.ini\&quot;</span><br></pre></td></tr></table></figure>
<p>如果看到 <code>Service successfully installed.</code> 则表示安装成功。</p>
</li>
</ol>
<h2 id="第四步：服务管理与登录"><a href="#第四步：服务管理与登录" class="headerlink" title="第四步：服务管理与登录"></a>第四步：服务管理与登录</h2><ol>
<li><p><strong>启动服务</strong>:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">net</span> <span class="built_in">start</span> MySQL</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>登录并修改密码</strong>:<br>使用上一步中保存的临时密码登录。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>
<p>在提示 <code>Enter password:</code> 后，粘贴你的临时密码并按回车。</p>
</li>
<li><p><strong>修改 root 密码</strong>:<br>登录成功后，立即修改为一个更强的密码。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;YourNewStrongPassword&#x27;</span>;</span><br><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">EXIT;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="用户与权限管理"><a href="#用户与权限管理" class="headerlink" title="用户与权限管理"></a>用户与权限管理</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建一个新用户 &#x27;appuser&#x27;，密码为 &#x27;password123&#x27;</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;appuser&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;password123&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 授予 &#x27;appuser&#x27; 对 &#x27;mydatabase&#x27; 数据库的所有权限</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> mydatabase.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;appuser&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 刷新权限使之生效</span></span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>

<h2 id="备份与恢复"><a href="#备份与恢复" class="headerlink" title="备份与恢复"></a>备份与恢复</h2><h3 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h3><p>使用 <code>mysqldump</code> 工具进行备份。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># MySQL Windows 安装指南</span><br><span class="line">mysqldump -u root -p mydatabase &gt; D:\\backups\\mydatabase_backup.sql</span><br><span class="line"></span><br><span class="line"># MySQL Windows 安装指南</span><br><span class="line">mysqldump -u root -p --all-databases &gt; D:\\backups\\all_databases.sql</span><br></pre></td></tr></table></figure>

<h3 id="恢复"><a href="#恢复" class="headerlink" title="恢复"></a>恢复</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># MySQL Windows 安装指南</span><br><span class="line">mysql -u root -p mydatabase &lt; D:\\backups\\mydatabase_backup.sql</span><br></pre></td></tr></table></figure>

<h2 id="常见问题与故障排除"><a href="#常见问题与故障排除" class="headerlink" title="常见问题与故障排除"></a>常见问题与故障排除</h2><p><strong>Q: 服务启动失败?</strong><br><strong>A</strong>:</p>
<ol>
<li>检查 <code>data</code> 目录下的 <code>.err</code> 日志文件，查找具体的错误信息。</li>
<li>检查端口（如 3306）是否被其他程序占用 (<code>netstat -ano | findstr 3306</code>)。</li>
</ol>
<p><strong>Q: 忘记 root 密码?</strong><br><strong>A</strong>:</p>
<ol>
<li>以管理员身份打开 <code>cmd</code>，停止 MySQL 服务：<code>net stop MySQL</code>。</li>
<li>创建 <code>mysql-init.txt</code> 文件，内容为：<code>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;NewPassword&#39;;</code></li>
<li>使用无权限验证模式启动 MySQL 并加载该文件：<code>mysqld --init-file=&quot;C:\\mysql-init.txt&quot; --console</code></li>
<li>看到服务启动后，关闭该 <code>cmd</code> 窗口，然后正常启动 MySQL 服务：<code>net start MySQL</code>。现在你可以用 <code>NewPassword</code> 登录了。</li>
</ol>
<p><strong>Q: 字符集乱码?</strong><br><strong>A</strong>: 确保 <code>my.ini</code> 文件中 <code>[mysqld]</code>, <code>[mysql]</code>, <code>[client]</code> 下都设置了 <code>character-set-server=utf8mb4</code> 或 <code>default-character-set=utf8mb4</code>。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://VilasWang.github.io">vilas</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://vilaswang.github.io/posts/e2f925a8/">https://vilaswang.github.io/posts/e2f925a8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://VilasWang.github.io" target="_blank">CodeVerse | 技术宇宙</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Windows/">Windows</a><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="post-meta__tags" href="/tags/%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE/">服务配置</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/4996968/" title="Redis Windows 安装指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Redis Windows 安装指南</div></div><div class="info-2"><div class="info-item-1">Redis Windows 安装指南目录 重要：Redis on Windows 现状 方法一：在 WSL2 中运行 Redis (官方推荐) 方法二：使用旧版 Redis for Windows 客户端连接 常见问题  重要：Redis on Windows 现状Redis 官方并未正式支持和维护原生的 Windows 版本。  官方推荐方案: 在 Windows 10&#x2F;11 上，官方推荐使用 WSL2 (Windows Subsystem for Linux) 来安装和运行原生的、最新的 Linux 版 Redis。这能提供最佳的性能和兼容性。 旧的 Windows 版本: 曾有一个由微软维护的 Windows 移植版 Redis (MicrosoftArchive/redis)，但该项目已于多年前停止更新，其最新版本仅为 3.x，与现代 Redis (6.x, 7.x) 相比功能陈旧且存在已知漏洞。  本指南将优先介绍 WSL2 的方法，并将旧的原生 Windows 版本安装作为备用方案。 方法一：在 WSL2 中运行 Redis (官方推荐)1. 安装 WSL2...</div></div></div></a><a class="pagination-related" href="/posts/1653e33b/" title="Qt 网络编程指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Qt 网络编程指南</div></div><div class="info-2"><div class="info-item-1">Qt 网络编程指南目录 概述 HTTP 编程 (QNetworkAccessManager) TCP 编程 (QTcpServer 和 QTcpSocket) UDP 编程 (QUdpSocket) WebSocket 编程 (QWebSocket) 处理 SSL&#x2F;TLS  概述Qt 的 Network 模块提供了一整套强大的类，用于处理从高层的 HTTP 请求到低层的 TCP&#x2F;UDP 套接字等各种网络通信任务。本指南将通过一系列独立的、最小化的示例，介绍如何使用这些核心类。 项目配置 (.pro 文件)要使用本指南中的任何功能，请确保你的 .pro 文件中包含了 network 模块。 1QT += core gui network  HTTP 编程 (QNetworkAccessManager)QNetworkAccessManager 是 Qt 中用于处理 HTTP&#x2F;HTTPS 请求的中心类。它是异步的，通过信号和槽来处理网络回复。 1. 发送 GET 请求12345678910111213141516171819202122232425262...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/4996968/" title="Redis Windows 安装指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-04</div><div class="info-item-2">Redis Windows 安装指南</div></div><div class="info-2"><div class="info-item-1">Redis Windows 安装指南目录 重要：Redis on Windows 现状 方法一：在 WSL2 中运行 Redis (官方推荐) 方法二：使用旧版 Redis for Windows 客户端连接 常见问题  重要：Redis on Windows 现状Redis 官方并未正式支持和维护原生的 Windows 版本。  官方推荐方案: 在 Windows 10&#x2F;11 上，官方推荐使用 WSL2 (Windows Subsystem for Linux) 来安装和运行原生的、最新的 Linux 版 Redis。这能提供最佳的性能和兼容性。 旧的 Windows 版本: 曾有一个由微软维护的 Windows 移植版 Redis (MicrosoftArchive/redis)，但该项目已于多年前停止更新，其最新版本仅为 3.x，与现代 Redis (6.x, 7.x) 相比功能陈旧且存在已知漏洞。  本指南将优先介绍 WSL2 的方法，并将旧的原生 Windows 版本安装作为备用方案。 方法一：在 WSL2 中运行 Redis (官方推荐)1. 安装 WSL2...</div></div></div></a><a class="pagination-related" href="/posts/835264d4/" title="Qt SQL 数据库指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-04</div><div class="info-item-2">Qt SQL 数据库指南</div></div><div class="info-2"><div class="info-item-1">Qt SQL 数据库指南目录 概述：Qt SQL 模块 第一步：配置与连接数据库 第二步：使用 QSqlQuery 执行 SQL 命令 第三步：使用模型&#x2F;视图显示数据 第四步：使用事务 最佳实践与常见问题  概述：Qt SQL 模块Qt 的 SQL 模块提供了一套与平台和数据库无关的接口，用于访问 SQL 数据库。其核心是驱动程序架构，允许你使用相同的 Qt API 来操作多种不同的数据库，如 SQLite, MySQL, PostgreSQL 等。 核心类 QSqlDatabase: 代表一个数据库连接。它负责管理连接本身。 QSqlQuery: 用于执行 SQL 语句，并遍历查询结果。 QSqlQueryModel: 一个只读的数据模型，用于将一个 SQL 查询的结果直接展示在视图（如 QTableView）中。 QSqlTableModel: 一个可读写的数据模型，它代表一个单一的数据库表，并允许在视图中直接编辑数据。  第一步：配置与连接数据库1. 项目配置 (.pro 文件)确保你的项目文件包含了 sql 模块。 1QT += core gui sql  2....</div></div></div></a><a class="pagination-related" href="/posts/190baecd/" title="Boost Windows 编译指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-04</div><div class="info-item-2">Boost Windows 编译指南</div></div><div class="info-2"><div class="info-item-1">Boost Windows 编译指南目录 概述 环境准备 获取与准备源码 核心编译步骤 验证编译结果 项目集成 常见问题与解答 自动化脚本示例  概述本指南详细介绍如何在 Windows 平台上，使用 Visual Studio 和 b2.exe 构建工具，完整地静态编译 Boost C++ 库。 静态编译的优势 易于分发: 应用程序不依赖外部的 Boost DLL 文件，所有代码都在可执行文件内部。 版本控制: 避免最终用户的机器上出现 DLL 版本冲突。 性能: 可能有轻微的启动性能优势，因为减少了动态加载。  环境准备1. 软件要求 操作系统: Windows 10&#x2F;11 (x64) IDE: Visual Studio 2019 (MSVC v14.2) 或 2022 (MSVC v14.3) 组件: 确保 VS 安装程序已勾选 “使用 C++ 的桌面开发”，并包含最新的 Windows SDK。 (可选) Python: 如果需要编译 Boost.Python，请安装 Python 3.8+。  2. 开发者命令提示符编译 Boost 必须在 Visual S...</div></div></div></a><a class="pagination-related" href="/posts/b47a5d97/" title="Drogon 编译指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-04</div><div class="info-item-2">Drogon 编译指南</div></div><div class="info-2"><div class="info-item-1">Drogon 编译指南目录 概述 系统要求 环境准备 下载源码 依赖管理 编译安装 配置环境变量 验证安装 项目配置 常见问题 最佳实践  概述Drogon 是一个基于 C++17&#x2F;20 的高性能 HTTP 应用框架，类似于 Python 的 Django 和 Flask。本指南详细介绍如何在 Windows 系统下从源码编译安装 Drogon 框架。 框架特性 高性能: 基于 non-blocking I&#x2F;O 和事件驱动 异步支持: 完整的异步编程模型 ORM支持: 内置对象关系映射 插件系统: 灵活的插件扩展机制 RESTful API: 天然支持 RESTful 风格 WebSocket: 内置 WebSocket 支持 跨平台: 支持 Windows、Linux、macOS  编译方式 源码编译: 完全控制编译选项和依赖 包管理器: 使用 vcpkg 或 Conan 管理依赖 预编译包: 使用官方预编译的二进制包  系统要求1. 硬件要求 CPU: x64 架构，推荐 4 核心以上 内存: 最少 8GB，推荐 16GB+ 磁盘空间: 最少 10GB，推...</div></div></div></a><a class="pagination-related" href="/posts/2acf74bd/" title="FileZilla 内网穿透配置指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-09</div><div class="info-item-2">FileZilla 内网穿透配置指南</div></div><div class="info-2"><div class="info-item-1">🛠️ 详细配置步骤1. 安装与配置FileZilla Server 下载与安装在您的内网服务器上，从FileZilla官网下载FileZilla Server并安装。  注意: 本指南基于 FileZilla Server 经典版本 (0.9.x) 的界面描述。如果您使用的是 1.x 或更高版本，管理界面可能有所不同（通常为基于Web的仪表板），但核心配置概念（用户、被动模式端口）是通用的。  安装过程中，如果弹出“连接到服务器”配置界面，通常使用默认设置（如主机名127.0.0.1，管理端口）即可，点击“连接”或“确定”。  创建用户与设置密码安装完成后，在FileZilla Server管理界面中：  点击 Edit -&gt; Users 进入用户设置。 在 General（通用）页面，点击 Add 按钮创建新用户（例如 user1）。 为该用户设置密码。   设置共享文件夹创建用户后，系统通常会提示需设置至少一个共享文件夹。  在 Shared folders 页面，点击 Add 按钮，选择您希望外网能访问下载文件的内网目录。 根据需要，在 Files 和 Direct...</div></div></div></a><a class="pagination-related" href="/posts/d1520bc/" title="OpenSSL mTLS Windows 指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-04</div><div class="info-item-2">OpenSSL mTLS Windows 指南</div></div><div class="info-2"><div class="info-item-1">OpenSSL mTLS Windows 指南目录 概述 第一步：在 Windows 上安装 OpenSSL 第二步：生成根证书 (CA) 第三步：生成服务器证书 第四步：生成客户端证书 第五步：验证与打包 附录A：Windows 批处理自动化脚本 附录B：在 IIS 中配置双向认证 附录C：在 Nginx for Windows 中配置双向认证 附录D：生成 DH 参数 (可选) 附录E：常用 OpenSSL 命令  概述双向认证（Mutual TLS, mTLS）是一种高安全性的认证模式，它要求客户端和服务器双方都出示并验证对方的数字证书，从而确保通信双方的身份都是可信的。本指南将详细介绍如何在 Windows 系统上使用 OpenSSL 创建一套完整的、用于双向认证的证书。 Windows 环境注意事项 Windows 系统默认不包含 OpenSSL，需要单独安装 路径分隔符使用反斜杠 \ 批处理脚本使用 .bat 格式 文件权限管理与 Linux 不同  第一步：在 Windows 上安装 OpenSSL方法1：使用 Chocolatey (推荐)123456# Open...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">vilas</div><div class="author-info-description">CodeVerse | 技术宇宙 - 专注于 C++、Qt、系统架构与性能优化的技术知识库。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">155</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><a id="card-info-btn" href="/about/"><i class="fa fa-paper-plane"></i><span>关于</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/VilasWang" target="_blank" title="fab fa-github"><i class="Github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">🚀 欢迎来到 CodeVerse！这里专注于深度技术解析与实战经验分享。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL-Windows-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97"><span class="toc-number">1.</span> <span class="toc-text">MySQL Windows 安装指南</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E4%B8%8B%E8%BD%BD%E4%B8%8E%E8%A7%A3%E5%8E%8B"><span class="toc-number">1.3.</span> <span class="toc-text">第一步：下载与解压</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E9%85%8D%E7%BD%AE-my-ini-%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">第二步：配置 my.ini 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%8E%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.5.</span> <span class="toc-text">第三步：初始化与安装服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E4%B8%8E%E7%99%BB%E5%BD%95"><span class="toc-number">1.6.</span> <span class="toc-text">第四步：服务管理与登录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">1.7.</span> <span class="toc-text">用户与权限管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D"><span class="toc-number">1.8.</span> <span class="toc-text">备份与恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD"><span class="toc-number">1.8.1.</span> <span class="toc-text">备份</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D"><span class="toc-number">1.8.2.</span> <span class="toc-text">恢复</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E4%B8%8E%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="toc-number">1.9.</span> <span class="toc-text">常见问题与故障排除</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/mcp-github-config/" title="Gemini CLI 和 Claude Code 中配置 GitHub MCP 服务器详解">Gemini CLI 和 Claude Code 中配置 GitHub MCP 服务器详解</a><time datetime="2025-12-18T01:09:23.000Z" title="发表于 2025-12-18 09:09:23">2025-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/gemini-cli-proxy/" title="Gemini CLI 在国内网络环境下的完整配置指南">Gemini CLI 在国内网络环境下的完整配置指南</a><time datetime="2025-12-18T01:09:23.000Z" title="发表于 2025-12-18 09:09:23">2025-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/windows-github-mcp/" title="Windows 环境下配置 GitHub MCP 服务器完整指南">Windows 环境下配置 GitHub MCP 服务器完整指南</a><time datetime="2025-12-18T01:09:23.000Z" title="发表于 2025-12-18 09:09:23">2025-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/56a10ecb/" title="Antigravity 登录认证完整解决方案（非TUN方法）">Antigravity 登录认证完整解决方案（非TUN方法）</a><time datetime="2025-12-16T22:30:00.000Z" title="发表于 2025-12-17 06:30:00">2025-12-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/15251b3b/" title="MariaDB C++ Windows 安装指南">MariaDB C++ Windows 安装指南</a><time datetime="2025-12-09T06:09:56.000Z" title="发表于 2025-12-09 14:09:56">2025-12-09</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By vilas</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'VilasWang/VilasWang.github.io',
      'data-repo-id': 'R_kgDOQkzqvg',
      'data-category-id': 'DIC_kwDOQkzqvs4Cz99h',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script> document.addEventListener('DOMContentLoaded', function() { var announcement = document.createElement('div'); announcement.className = 'top-announcement'; announcement.innerHTML = '🚀 欢迎来到 CodeVerse 技术宇宙！'; document.body.insertBefore(announcement, document.body.firstChild); }); </script><script id="canvas_nest" defer="defer" color="102,204,255" opacity="0.6" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:description\"]","link[rel=\"canonical\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      false
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>